"use strict";(self.webpackChunkcatd=self.webpackChunkcatd||[]).push([[5678],{80089:function(u,a,n){n.r(a),n.d(a,{demos:function(){return y}});var m=n(90228),d=n.n(m),r=n(87999),l=n.n(r),t=n(75271),s=n(55697),o=n(52393),p=n(5848),y={"src-auto-complate-demo-demo":{component:t.memo(t.lazy(function(){return Promise.all([n.e(5713),n.e(2433)]).then(n.bind(n,94420))})),asset:{type:"BLOCK",id:"src-auto-complate-demo-demo",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(30833).Z},catd:{type:"NPM",value:"1.0.5"},"./jsonp.ts":{type:"FILE",value:n(2411).Z}},entry:"index.tsx"},context:{"./jsonp.ts":o,catd:s,"/Users/boyang/code/react/react\u7EC4\u4EF6\u5E93/catd-v3/src/AutoComplate/jsonp.ts":o},renderOpts:{compile:function(){var I=l()(d()().mark(function v(){var c,x=arguments;return d()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(4028).then(n.bind(n,54028));case 2:return e.abrupt("return",(c=e.sent).default.apply(c,x));case 3:case"end":return e.stop()}},v)}));function i(){return I.apply(this,arguments)}return i}()}},"src-auto-complate-demo-demo02":{component:t.memo(t.lazy(function(){return Promise.all([n.e(5713),n.e(2433)]).then(n.bind(n,89501))})),asset:{type:"BLOCK",id:"src-auto-complate-demo-demo02",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(64495).Z},catd:{type:"NPM",value:"1.0.5"}},entry:"index.tsx"},context:{catd:s},renderOpts:{compile:function(){var I=l()(d()().mark(function v(){var c,x=arguments;return d()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(4028).then(n.bind(n,54028));case 2:return e.abrupt("return",(c=e.sent).default.apply(c,x));case 3:case"end":return e.stop()}},v)}));function i(){return I.apply(this,arguments)}return i}()}},"src-auto-complate-demo-demo03":{component:t.memo(t.lazy(function(){return Promise.all([n.e(5713),n.e(2433)]).then(n.bind(n,12810))})),asset:{type:"BLOCK",id:"src-auto-complate-demo-demo03",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(24846).Z},"styled-components":{type:"NPM",value:"5.3.11"},catd:{type:"NPM",value:"1.0.5"},"./jsonp.ts":{type:"FILE",value:n(2411).Z}},entry:"index.tsx"},context:{"./jsonp.ts":o,"styled-components":p,catd:s,"/Users/boyang/code/react/react\u7EC4\u4EF6\u5E93/catd-v3/src/AutoComplate/jsonp.ts":o},renderOpts:{compile:function(){var I=l()(d()().mark(function v(){var c,x=arguments;return d()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(4028).then(n.bind(n,54028));case 2:return e.abrupt("return",(c=e.sent).default.apply(c,x));case 3:case"end":return e.stop()}},v)}));function i(){return I.apply(this,arguments)}return i}()}}}},52393:function(u,a,n){n.r(a),n.d(a,{jsonp:function(){return d}});function m(r){var l=r.url,t=r.params,s=r.cbName,o=[];for(var p in t)o.push("".concat(p,"=").concat(t[p]));return"".concat(l,"?").concat(o.join("&"),"&cb=").concat(s)}function d(r){var l=r.cbName;return new Promise(function(t){var s=m(r),o=document.createElement("script");o.src=s,document.body.appendChild(o),window[l]=function(p){t(p),document.body.removeChild(o)}})}},72103:function(u,a,n){n.r(a),n.d(a,{texts:function(){return m}});const m=[{value:`

  
  
  
  
  
  
  
  
`,paraId:0},{value:`
  `,paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"\u5C5E\u6027\u540D",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"\u63CF\u8FF0",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"\u7C7B\u578B",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"\u9ED8\u8BA4\u503C",paraId:1,tocIndex:4},{value:`
  `,paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"size",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"\u5927\u5C0F",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"'large' | 'small' | 'default'",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"default",paraId:1,tocIndex:4},{value:`
  `,paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"addOnBefore",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"\u5C3A\u5BF8\u5E26\u6807\u7B7E\u7684 input\uFF0C\u8BBE\u7F6E\u524D\u7F6E\u6807\u7B7E",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"string | ReactElement",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:`
  `,paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"addOnAfter",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"\u5C3A\u5BF8\u5E26\u6807\u7B7E\u7684 input\uFF0C\u8BBE\u7F6E\u540E\u7F6E\u6807\u7B7E",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"string | ReactElement",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:`
  `,paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"prefix",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"\u5E26\u6709\u524D\u7F00\u56FE\u6807\u7684 input",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"string | ReactElement",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:`
  `,paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"suffix",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"\u5E26\u6709\u540E\u7F00\u56FE\u6807\u7684 input",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"string | ReactElement",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:`
  `,paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"onSearch",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"\u641C\u7D22\u8865\u5168\u9879\u7684\u65F6\u5019\u8C03\u7528",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"function(value)",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:`
  `,paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"onSelect",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"\u88AB\u9009\u4E2D\u65F6\u8C03\u7528\uFF0C\u53C2\u6570\u4E3A\u9009\u4E2D\u9879\u7684 value \u503C	",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"function(item)",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:`
  `,paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"renderItem",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"\u81EA\u5B9A\u4E49item\u6837\u5F0F",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:"item => ReactNode",paraId:1,tocIndex:4},{value:`
    `,paraId:1,tocIndex:4},{value:`
  `,paraId:1,tocIndex:4}]},30833:function(u,a){a.Z=`import { AutoComplete, Icon } from 'catd';
import { jsonp } from './jsonp';

const App = () => {
  async function onSearch(wd: string) {
    let res: any = await jsonp({
      url: 'https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su',
      params: { wd },
      cbName: 'show',
    });
    res = res.s.map((value: string, index: number) => ({ value, index }));

    return res;
  }

  return (
    <AutoComplete
      onSearch={onSearch}
      style={{ width: 300 }}
      prefix={<Icon name="search" />}
      placeholder='search' />
  );
};

export default App;


`},64495:function(u,a){a.Z=`import { AutoComplete } from 'catd';

const App = () => {
  function onSearch(wd: string) {
    const emails = ['qq', 'gmail', '163'];
    return emails.map((v) => ({ value: \`\${wd}@\${v}.com\` }));
  }

  return <AutoComplete onSearch={onSearch} style={{ width: 300 }} placeholder='\u8BF7\u8F93\u5165\u90AE\u7BB1' />;
};

export default App;
`},24846:function(u,a){a.Z=`import styled from 'styled-components';
import { AutoComplete, Icon } from 'catd';
import { AutoItemType } from 'src/AutoComplate/AutoComplete';
import { jsonp } from './jsonp';

type Item = {
  value: string;
  results?: number;
};

const ListItem = styled.div\`
  line-height: 2em;
  display: flex;
  justify-content: space-between;
  span {
    color: #999;
  }
\`;

const App = () => {
  async function onSearch(wd: string) {
    let res: any = await jsonp({
      url: 'https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su',
      params: { wd },
      cbName: 'show',
    });
    function radom() {
      let n = Math.random() * 100;
      return Math.floor(n);
    }
    res = res.s.map((value: string) => ({ value, results: radom() }));

    return res;
  }

  const renderItem = (item: AutoItemType<Item>) => (
    <ListItem>
      {item.value}
      <span>{item.results} result</span>
    </ListItem>
  );

  return (
    <AutoComplete
      onSearch={onSearch}
      style={{ width: 300 }}
      renderItem={renderItem}
      addOnAfter={<Icon name="search" />}
      placeholder='search'
    />
  );
};

export default App;

`},2411:function(u,a){a.Z=`import { Obj } from 'src/tools/type';

type JsonpType = {
  url: string;
  params: Obj;
  cbName: string;
};

function getSrc(option: JsonpType) {
  const { url, params, cbName } = option;
  let list = [];
  // eslint-disable-next-line guard-for-in
  for (let key in params) {
    list.push(\`\${key}=\${params[key]}\`);
  }
  return \`\${url}?\${list.join('&')}&cb=\${cbName}\`;
}

export function jsonp(option: JsonpType) {
  const { cbName } = option;
  return new Promise((resolve) => {
    let src = getSrc(option)
    let script = document.createElement('script');
    script.src = src;
    document.body.appendChild(script);
    // @ts-ignore
    window[cbName] = function (data: any) {
      resolve(data);
      document.body.removeChild(script);
    };
  });
}`}}]);
